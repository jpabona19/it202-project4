<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    :root {
      --mdc-theme-primary: #2cc0f7;
    }
	 
	  
    body {margin: 0;}
    main {margin-left: 8px;}
	
	  
	  .viewShow{
			display: block;
	  }  
	  
	  .viewHidden{
		  display: none;
	  }	  
  </style>

  </head>
  <body>  
    
    <aside class="mdc-drawer mdc-drawer--modal">
    <div class="mdc-drawer__content">
      <nav class="mdc-list">
        <a class="mdc-list-item mdc-list-item--activated" href="#" aria-current="page" onclick = "return showScreen('#Home', '#Search', '#Table', '#Chart');">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">home</i>
          <span class="mdc-list-item__text">Home</span>
        </a>
        <a class="mdc-list-item" href="#search" onclick = "return showScreen('#Search', '#Home', '#Table', '#Chart');">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">search</i>
          <span class="mdc-list-item__text">Search</span>
        </a>
        <a class="mdc-list-item" href="#table" onclick = "return showScreen('#Table', '#Search', '#Home', '#Chart');">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true" >table_chart</i>
          <span class="mdc-list-item__text">Table</span>
        </a>
		<a class="mdc-list-item" href="#chart" onclick = "return showScreen('#Chart', '#Search', '#Table', '#Home');">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true" >show_chart</i>
          <span class="mdc-list-item__text">Chart</span>
        </a>  
      </nav>
    </div>
  </aside>

  <div class="mdc-drawer-scrim"></div>

<header class="mdc-top-app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button">menu</button>
      <span class="mdc-top-app-bar__title">Project 4: Covid-19 Data</span>
    </section>
  </div>
</header>

	  
	  <!-- display on page -->
  <main class="mdc-top-app-bar--fixed-adjust">
	  <div class="viewShow" id="Home">
		  <h1>Home</h1>
		  Select from the side menu by clicking the three lines at the top left hand corner
	  </div>
	 
	  <div class="viewHidden" id="Search">
		  <h1>Search</h1>
		  <p>Find countries to chart by typing in the box below</p>
		  <p>Click add to add a country to your list</p>
		  <input id="country" list="countries" class="mdc-text-field__input"> 
		  <datalist id="countries"></datalist>
		  <button id="add" class="mdc-button mdc-button--raised">
			  <div class="mdc-button__ripple"></div>
			  <span class="mdc-button__label">Add</span>
		  </button>
		  
	  </div>
	  
	  <div class="viewHidden" id="Table">
	  	 Content of Table
		  
	  </div>
	  
	  <div class="viewHidden" id="Chart">
		  Content of Chart
		  
	  </div>
	  
  </main>


  <script>
    mdc.topAppBar.MDCTopAppBar.attachTo(document.querySelector('header.mdc-top-app-bar'));

    const drawer = mdc.drawer.MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
	const endpoint =  "https://pomber.github.io/covid19/timeseries.json"; 
	const countriesList = [];
	let data;
	  
	  

    document.querySelector(".mdc-top-app-bar__navigation-icon")
      .addEventListener("click", 
          (e) => {drawer.open = true;}
      );
	  
	  const showScreen = (shown, hidden1, hidden2, hidden3) => {
		  document.querySelector(shown).setAttribute("class", "viewShown");
		  document.querySelector(hidden1).setAttribute("class", "viewHidden");
		  document.querySelector(hidden2).setAttribute("class", "viewHidden");
		  document.querySelector(hidden3).setAttribute("class", "viewHidden");

		  return false;
	  }
	  
	  window.addEventListener('load',() => {
		  fetch(endpoint)
			  .then(response => response.json())
			  .then(json => {
			  		data = json;
			  		for(i in data){
						let c = document.createElement("c");
						c.value = i;
						document.querySelector("#countries").appendChild(c);
					}
		  })
	  });
	  
	  const addCountry = (country) => {
		  countriesList.push(country);
		  document.querySelector("#selectedCountries").textContent = countriesList.toString();
	  }
	  
	  
	  
    </script>
  </body>
</html>